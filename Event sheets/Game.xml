<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Game</name>
    <events>
        <include>GameOver</include>
        <include>SetupGame</include>
        <include>MenuActions</include>
        <variable constant="0" name="CollectedBlocks" sid="1125" static="0" type="number">0</variable>
        <variable constant="0" name="SelectLevel123" sid="929" static="0" type="number">0</variable>
        <event-group description="" sid="721" title="System">
            <sub-events>
                <event-block sid="542948444764779">
                    <conditions>
                        <condition id="2" name="Is in touch" sid="1039492957415585" type="Touch" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="1282077459262629" type="ParticlesByTouch">
                            <param id="0" name="X">Touch.X</param>
                            <param id="1" name="Y">Touch.Y</param>
                        </action>
                        <action id="-3" name="Set position" sid="8244046923174271" type="Puller">
                            <param id="0" name="X">Touch.X</param>
                            <param id="1" name="Y">Touch.Y</param>
                        </action>
                        <action id="0" name="Set spraying" sid="8332022606974121" type="ParticlesByTouch">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="399">
                    <conditions>
                        <condition id="2" inverted="1" name="Is in touch" sid="400" type="Touch" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set spraying" sid="915732804414794" type="ParticlesByTouch">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3041501793726426">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="7833231096704047" type="Keyboard">
                            <param id="0" name="Key">83 (S)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-36" name="Save" sid="4968423716432419" type="System">
                            <param id="0" name="Slot">&quot;mysave&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1574145197874814">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="296754365497648" type="Keyboard">
                            <param id="0" name="Key">76 (L)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-37" name="Load" sid="1492623128610811" type="System">
                            <param id="0" name="Slot">&quot;mysave&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="774" title="Blocks">
            <sub-events>
                <event-group description="" sid="9166873011868142" title="Rolling Rock">
                    <sub-events>
                        <event-block sid="8700575806871419">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="2404418046981535" type="DeathBall">
                                    <param id="0" name="Object">LightBlocks</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="2001289762562195" type="LightBlocks" />
                                <action id="0" name="Spawn another object" sid="2429099922134408" type="LightBlocks">
                                    <param id="0" name="Object">DeathOfBlock</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5892907407593222">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="8696175303569288" type="DeathBall">
                                    <param id="0" name="Object">ObBlocks</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="5059946987766785" type="ObBlocks" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-block sid="576">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="577" type="Blocks">
                            <param id="0" name="Object">Porthole</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="1128" type="System">
                            <param id="0" name="Variable">CollectedBlocks</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Add to" sid="579" type="System">
                            <param id="0" name="Variable">CurrentLevelScore</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-9" name="Destroy" sid="669" type="Blocks" />
                        <action id="0" name="Call function" sid="2891167476168251" type="Function">
                            <param id="0" name="Name">&quot;StartEndgameCountdown&quot;</param>
                            <param id="1" name="Parameter {n}">PORTAL_CLOSING_TIME</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="" sid="776" title="Purple Blocks">
                    <sub-events>
                        <event-block sid="483">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="484" type="ObBlocks">
                                    <param id="0" name="Object">Particles</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Physics" id="2" name="Apply force at angle" sid="485" type="ObBlocks">
                                    <param id="0" name="Force">1</param>
                                    <param id="1" name="Angle">270</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="600" title="LightBlock">
                    <sub-events>
                        <event-block sid="58">
                            <conditions>
                                <condition id="2" name="Is in touch" sid="59" type="Touch" />
                                <condition id="1" name="Is overlapping another object" sid="396" type="Puller">
                                    <param id="0" name="Object">LightBlocks</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Physics" id="1" name="Apply force towards position" sid="60" type="LightBlocks">
                                    <param id="0" name="Force">1</param>
                                    <param id="1" name="X">Touch.X</param>
                                    <param id="2" name="Y">Touch.y</param>
                                    <param id="3" name="Image point">0</param>
                                </action>
                                <action behavior="Physics" id="2" name="Apply force at angle" sid="598" type="LightBlocks">
                                    <param id="0" name="Force">1</param>
                                    <param id="1" name="Angle">random(360)</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="567">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="568" type="LightBlocks">
                                    <param id="0" name="Object">Prongs</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="569" type="LightBlocks" />
                                <action id="0" name="Spawn another object" sid="684" type="LightBlocks">
                                    <param id="0" name="Object">DeathOfBlock</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="570">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="571" type="LightBlocks">
                                    <param id="0" name="Object">DeathH</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="680" type="LightBlocks" />
                                <action id="0" name="Spawn another object" sid="685" type="LightBlocks">
                                    <param id="0" name="Object">DeathOfBlock</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="573">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="574" type="LightBlocks">
                                    <param id="0" name="Object">Deathv</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="681" type="LightBlocks" />
                                <action id="0" name="Spawn another object" sid="686" type="LightBlocks">
                                    <param id="0" name="Object">DeathOfBlock</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="687">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="688" type="LightBlocks">
                                    <param id="0" name="Object">Particles</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Physics" id="2" name="Apply force at angle" sid="689" type="LightBlocks">
                                    <param id="0" name="Force">1</param>
                                    <param id="1" name="Angle">270</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="4005078874426396" title="Explosive blocks-short+long">
            <sub-events>
                <event-block sid="2795358702722802">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="8626000338316158" type="ExplosiveAreaShort">
                            <param id="0" name="Instance variable">ExplosionNumber</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">ExplosiveShort.ExplosionNumber</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="6950905304527276" type="ExplosiveAreaShort">
                            <param id="0" name="X">ExplosiveShort.X</param>
                            <param id="1" name="Y">ExplosiveShort.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9118890337839499">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="4135007012678763" type="ExplosiveArealong">
                            <param id="0" name="Instance variable">ExplosionNumber</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Explosivelong.ExplosionNumber</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="1840265470011334" type="ExplosiveArealong">
                            <param id="0" name="X">Explosivelong.X</param>
                            <param id="1" name="Y">Explosivelong.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="" sid="777" title="Explosive Blocks">
                    <sub-events>
                        <event-block sid="9238142878209811">
                            <conditions>
                                <condition id="3" name="On touched object" sid="7366226075819338" type="Touch">
                                    <param id="0" name="Object">ExplosiveShort</param>
                                </condition>
                                <condition id="7" name="Cursor is over object" sid="3087290724073821" type="Mouse">
                                    <param id="0" name="Object">ExplosiveAreaShort</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="9786518302354112">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="4256133131348372" type="ObBlocks">
                                            <param id="0" name="Object">ExplosiveAreaShort</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Physics" id="1" name="Apply force towards position" sid="1799673956743897" type="ObBlocks">
                                            <param id="0" name="Force">-5</param>
                                            <param id="1" name="X">ExplosiveAreaShort.x</param>
                                            <param id="2" name="Y">ExplosiveAreaShort.y</param>
                                            <param id="3" name="Image point">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="7819064137901704">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="9321057483177171" type="ObBlocks2">
                                            <param id="0" name="Object">ExplosiveAreaShort</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Physics" id="1" name="Apply force towards position" sid="2866856768834238" type="ObBlocks2">
                                            <param id="0" name="Force">-5</param>
                                            <param id="1" name="X">ExplosiveAreaShort.x</param>
                                            <param id="2" name="Y">ExplosiveAreaShort.y</param>
                                            <param id="3" name="Image point">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="9455204840702664">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="7337029069744328" type="LightBlocks">
                                            <param id="0" name="Object">ExplosiveAreaShort</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Physics" id="1" name="Apply force towards position" sid="8433926004106166" type="LightBlocks">
                                            <param id="0" name="Force">-20</param>
                                            <param id="1" name="X">ExplosiveAreaShort.x</param>
                                            <param id="2" name="Y">ExplosiveAreaShort.y</param>
                                            <param id="3" name="Image point">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="6656311662586133">
                            <conditions>
                                <condition id="3" name="On touched object" sid="9351315729880456" type="Touch">
                                    <param id="0" name="Object">ExplosiveShort</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="6411914107446104" type="ExplosiveShort" />
                            </actions>
                            <sub-events>
                                <event-block sid="6343551235476191">
                                    <conditions>
                                        <condition id="-15" name="Pick nearest/furthest" sid="8927167510680585" type="ExplosiveAreaShort">
                                            <param id="0" name="Which">0</param>
                                            <param id="1" name="X">ExplosiveShort.X</param>
                                            <param id="2" name="Y">ExplosiveShort.Y</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="6440557466661486" type="ExplosiveAreaShort" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="5442443412892248" title="Long explosive">
                    <sub-events>
                        <event-block sid="992467173003719">
                            <conditions>
                                <condition id="3" name="On touched object" sid="9325401227207488" type="Touch">
                                    <param id="0" name="Object">Explosivelong</param>
                                </condition>
                                <condition id="7" name="Cursor is over object" sid="5399890260313794" type="Mouse">
                                    <param id="0" name="Object">ExplosiveArealong</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="1066271076153538">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="9049225672687559" type="ObBlocks">
                                            <param id="0" name="Object">ExplosiveArealong</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Physics" id="1" name="Apply force towards position" sid="8275088254915407" type="ObBlocks">
                                            <param id="0" name="Force">-5</param>
                                            <param id="1" name="X">ExplosiveArealong.x</param>
                                            <param id="2" name="Y">ExplosiveArealong.y</param>
                                            <param id="3" name="Image point">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="9376770922547342">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="4700234049213524" type="ObBlocks2">
                                            <param id="0" name="Object">ExplosiveArealong</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Physics" id="1" name="Apply force towards position" sid="3278134007679689" type="ObBlocks2">
                                            <param id="0" name="Force">-5</param>
                                            <param id="1" name="X">ExplosiveArealong.x</param>
                                            <param id="2" name="Y">ExplosiveArealong.y</param>
                                            <param id="3" name="Image point">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="1475145481317992">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="3900658264486826" type="LightBlocks">
                                            <param id="0" name="Object">ExplosiveArealong</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Physics" id="1" name="Apply force towards position" sid="9145841372738589" type="LightBlocks">
                                            <param id="0" name="Force">-20</param>
                                            <param id="1" name="X">ExplosiveArealong.x</param>
                                            <param id="2" name="Y">ExplosiveArealong.y</param>
                                            <param id="3" name="Image point">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="4109869261698314">
                            <conditions>
                                <condition id="3" name="On touched object" sid="7769670045214018" type="Touch">
                                    <param id="0" name="Object">Explosivelong</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="3853819430349233">
                                    <conditions>
                                        <condition id="-15" name="Pick nearest/furthest" sid="8841972947141988" type="ExplosiveArealong">
                                            <param id="0" name="Which">0</param>
                                            <param id="1" name="X">Explosivelong.X</param>
                                            <param id="2" name="Y">Explosivelong.Y</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="8025809481184461" type="ExplosiveArealong" />
                                        <action id="-9" name="Destroy" sid="6208389292150045" type="Explosivelong" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
